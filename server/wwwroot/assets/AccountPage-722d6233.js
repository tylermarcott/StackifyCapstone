import{_ as g,h as b,w as x,i as d,j as w,P as i,k as p,A,r as E,a as u,c as _,b as t,d as v,l as h,t as l,m as k,n as S,q as f,v as y,e as C,s as D,u as I,x as r,p as N,g as V}from"./index-3fd5bb5b.js";const j={setup(){const a=b({});async function s(){try{if(!r.account.id)return;await p.getMyEvents()}catch(n){i.error(n)}}return x(()=>{s()}),{formData:a,account:d(()=>r.account),playlists:d(()=>r.playlists),myEvents:d(()=>r.events),toggleCollapseForm(){let n=document.getElementById("edit-form");n.attributes.hidden?n.removeAttribute("hidden"):n.setAttribute("hidden","")},async editAccount(){try{this.toggleCollapseForm(),await w.editAccount(a.value)}catch(n){i.error(n)}},async deleteEvent(n){try{await i.confirm("Are you sure you want to delete this event..?")&&await p.deleteEvent(n)}catch(e){i.error(e)}},async logout(){A.logout({returnTo:window.location.origin})}}}},c=a=>(N("data-v-b09f2fc8"),a=a(),V(),a),P={key:0,class:"row account-wrapper justify-content-center p-2"},U={class:"col-12 landing-navigation d-flex justify-content-center align-items-center"},B={class:"row"},F=c(()=>t("h2",{class:"settings-title text-center"},"Account Settings",-1)),M=c(()=>t("i",{class:"home-button mdi mdi-application text-center"},null,-1)),T={class:"col-12"},L={class:"row py-2 text-center justify-content-center"},q={class:"col-6 about"},z={class:"welcome-text"},G=["src"],H={class:"email-text"},J=c(()=>t("b",null,"Edit Account",-1)),K=[J],O=c(()=>t("i",{class:"mdi mdi-logout"},null,-1)),Q={class:"row",id:"edit-form",hidden:""},R={class:"col-12 my-5"},W=c(()=>t("label",{for:"name",class:"label-text"},[t("b",null,"Name")],-1)),X={class:"col-12 my-5"},Y=c(()=>t("label",{for:"imgUrl",class:"label-text"},[t("b",null,"Image Url")],-1)),Z=c(()=>t("button",{type:"submit",class:"connect-button submit-button"},[t("b",null,"Submit")],-1)),$={class:"col-10 event-list"},tt=c(()=>t("h2",{class:"text-center event-category-text"},"Events",-1)),et={class:"row m-1"},ot=["event"],st={class:"col-12 event-title selectable text-center"},nt={class:"col-12"},ct=c(()=>t("div",{class:"col-12 no-play"},[t("p",null,"Do Not Play List?")],-1)),at={class:"col-12 d-flex justify-content-center my-3"},it=["onClick"],lt=c(()=>t("i",{class:"mdi mdi-delete"},null,-1)),rt=[lt];function dt(a,s,n,e,ut,_t){const m=E("router-link");return e.account.name?(u(),_("section",P,[t("div",U,[t("section",B,[F,v(m,{class:"text-center",to:{name:"Application",params:{application:"application"}}},{default:h(()=>[M]),_:1})])]),t("div",T,[t("section",L,[t("div",q,[t("h2",z,l(e.account.name),1),t("img",{class:"rounded",src:e.account.picture,alt:""},null,8,G),t("p",H,l(e.account.email),1),t("button",{type:"button",onClick:s[0]||(s[0]=o=>e.toggleCollapseForm()),class:"connect-button elevation-3"},K),t("div",{class:"list-group-item dropdown-item list-group-item-action text-danger selectable",onClick:s[1]||(s[1]=(...o)=>e.logout&&e.logout(...o))},[O,k(" logout ")]),t("section",Q,[t("form",{onSubmit:s[4]||(s[4]=S(o=>e.editAccount(),["prevent"]))},[t("div",R,[W,f(t("input",{name:"name",class:"w-100 rounded my-1",type:"text","onUpdate:modelValue":s[2]||(s[2]=o=>e.formData.name=o),id:"name"},null,512),[[y,e.formData.name]])]),t("div",X,[Y,f(t("input",{name:"picture",class:"w-100 rounded my-1",type:"url","onUpdate:modelValue":s[3]||(s[3]=o=>e.formData.picture=o),id:"imgUrl"},null,512),[[y,e.formData.picture]]),Z])],32)])])])]),t("div",$,[tt,(u(!0),_(C,null,D(e.myEvents,o=>(u(),_("div",{key:o.id},[t("section",et,[t("div",{class:"text-center event-card elevation-5",event:o},[v(m,{to:{name:"Application",params:{application:"application"}},class:""},{default:h(()=>[t("h2",st,l(o.title),1)]),_:2},1024),t("p",nt,l(o.eventType),1),ct,t("div",at,[t("button",{onClick:mt=>e.deleteEvent(o.id),class:"btn btn-danger"},rt,8,it)])],8,ot)])]))),128))])])):I("",!0)}const vt=g(j,[["render",dt],["__scopeId","data-v-b09f2fc8"]]);export{vt as default};
